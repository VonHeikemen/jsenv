function stdout(str) {
  process.stdout.write(str);
}

function echo(...args) {
  let str = '';
  for(let arg of args) {
    str += Array.isArray(arg) ? arg.join(' ') : arg.toString();
    str += ' ';
  }

  stdout(str + '\n');
}

async function stdin() {
  process.stdin.setEncoding('utf8');
  let input = '';

  for await (const chunk of process.stdin) {
    input += chunk;
  }

  return input;
}

function exit(code = 0, message = '') {
  if(code === 0) {
    message.length && echo(message);
    process.exit(0);
  }

  message.length && console.error(message);
  process.exit(code)
}

module.exports = {
  echo,
  exit,
  stdin,
  stdout,
};

